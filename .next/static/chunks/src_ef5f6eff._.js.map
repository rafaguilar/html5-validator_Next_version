{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/layout/header.tsx"],"sourcesContent":["import { ShieldCheck } from 'lucide-react';\n\nexport function AppHeader() {\n  return (\n    <header className=\"bg-card border-b shadow-sm\">\n      <div className=\"container mx-auto px-4 py-4 flex items-center\">\n        <ShieldCheck className=\"h-8 w-8 text-primary mr-3\" />\n        <h1 className=\"text-2xl font-semibold text-foreground\">\n          HTML Validator\n        </h1>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEO,SAAS;IACd,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC;oBAAG,WAAU;8BAAyC;;;;;;;;;;;;;;;;;AAM/D;KAXgB","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAC3B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,SAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 265, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,2BAAa,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGhC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAA,CAAA,OAAwB;QACvB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,4BAA4B;QACzC,GAAG,KAAK;;0BAET,6LAAC,6KAAA,CAAA,WAA4B;gBAAC,WAAU;0BACrC;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,6KAAA,CAAA,SAA0B;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAA,CAAA,OAAwB,CAAC,WAAW;AAE7D,MAAM,0BAAY,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,cAAc,UAAU,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC,6KAAA,CAAA,sBAAuC;QACtC,KAAK;QACL,aAAa;QACb,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iDACA,gBAAgB,cACd,sDACF,gBAAgB,gBACd,wDACF;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,6KAAA,CAAA,kBAAmC;YAAC,WAAU;;;;;;;;;;;MAjB7C;AAoBN,UAAU,WAAW,GAAG,6KAAA,CAAA,sBAAuC,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/html-validator/file-uploader.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ChangeEvent, DragEvent } from 'react';\nimport React, { useState, useRef }from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { UploadCloud, Archive, XCircle, Loader2 } from 'lucide-react';\n\ninterface FileUploaderProps {\n  selectedFiles: File[];\n  setSelectedFiles: React.Dispatch<React.SetStateAction<File[]>>;\n  onValidate: () => void;\n  isLoading: boolean;\n}\n\nexport function FileUploader({ selectedFiles, setSelectedFiles, onValidate, isLoading }: FileUploaderProps) {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const handleFileChange = (event: ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files) {\n      const newFiles = Array.from(event.target.files).filter(file => file.type === 'application/zip' || file.type === 'application/x-zip-compressed');\n      // Prevent duplicates by name, simple check\n      setSelectedFiles(prevFiles => {\n        const existingFileNames = new Set(prevFiles.map(f => f.name));\n        const uniqueNewFiles = newFiles.filter(nf => !existingFileNames.has(nf.name));\n        return [...prevFiles, ...uniqueNewFiles];\n      });\n    }\n  };\n\n  const handleRemoveFile = (fileName: string) => {\n    setSelectedFiles(prevFiles => prevFiles.filter(file => file.name !== fileName));\n  };\n\n  const handleDragEnter = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n  };\n\n  const handleDragOver = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isDragging) setIsDragging(true); // Ensure it's set if entered quickly\n  };\n\n  const handleDrop = (e: DragEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragging(false);\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const newFiles = Array.from(e.dataTransfer.files).filter(file => file.type === 'application/zip' || file.type === 'application/x-zip-compressed');\n      setSelectedFiles(prevFiles => {\n        const existingFileNames = new Set(prevFiles.map(f => f.name));\n        const uniqueNewFiles = newFiles.filter(nf => !existingFileNames.has(nf.name));\n        return [...prevFiles, ...uniqueNewFiles];\n      });\n      e.dataTransfer.clearData();\n    }\n  };\n\n  return (\n    <Card className=\"shadow-lg\">\n      <CardHeader>\n        <CardTitle className=\"text-xl\">Upload Creative Assets</CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-6\">\n        <div\n          className={`flex flex-col items-center justify-center p-8 border-2 border-dashed rounded-lg transition-colors\n            ${isDragging ? 'border-primary bg-primary/10' : 'border-input hover:border-primary/70'}`}\n          onDragEnter={handleDragEnter}\n          onDragLeave={handleDragLeave}\n          onDragOver={handleDragOver}\n          onDrop={handleDrop}\n          onClick={() => fileInputRef.current?.click()}\n        >\n          <UploadCloud className={`w-16 h-16 mb-4 ${isDragging ? 'text-primary' : 'text-muted-foreground'}`} />\n          <p className={`text-lg font-medium ${isDragging ? 'text-primary' : 'text-foreground'}`}>\n            Drag & Drop ZIP files here\n          </p>\n          <p className=\"text-sm text-muted-foreground\">or click to browse</p>\n          <Input\n            ref={fileInputRef}\n            type=\"file\"\n            accept=\".zip\"\n            multiple\n            className=\"hidden\"\n            onChange={handleFileChange}\n          />\n          <p className=\"text-xs text-muted-foreground mt-2\">Only .zip files are accepted.</p>\n        </div>\n\n        {selectedFiles.length > 0 && (\n          <div className=\"space-y-3\">\n            <h3 className=\"text-md font-medium text-foreground\">Selected Files:</h3>\n            <ScrollArea className=\"h-40 w-full rounded-md border p-3 bg-secondary/30\">\n              <ul className=\"space-y-2\">\n                {selectedFiles.map(file => (\n                  <li\n                    key={`${file.name}-${file.lastModified}`}\n                    className=\"flex items-center justify-between p-2 bg-card rounded-md shadow-sm\"\n                  >\n                    <div className=\"flex items-center space-x-2 overflow-hidden\">\n                      <Archive className=\"w-5 h-5 text-primary flex-shrink-0\" />\n                      <span className=\"text-sm text-foreground truncate\" title={file.name}>{file.name}</span>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"h-6 w-6 text-muted-foreground hover:text-destructive\"\n                      onClick={() => handleRemoveFile(file.name)}\n                      aria-label={`Remove ${file.name}`}\n                    >\n                      <XCircle className=\"w-4 h-4\" />\n                    </Button>\n                  </li>\n                ))}\n              </ul>\n            </ScrollArea>\n          </div>\n        )}\n\n        <Button\n          onClick={onValidate}\n          disabled={selectedFiles.length === 0 || isLoading}\n          className=\"w-full text-base py-3\"\n          size=\"lg\"\n        >\n          {isLoading ? (\n            <>\n              <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n              Validating...\n            </>\n          ) : (\n            'Validate Files'\n          )}\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/ui/accordion.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,YAAY,wKAAA,CAAA,OAAuB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,wKAAA,CAAA,OAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QACzB,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,SAAyB;QAAC,WAAU;kBACnC,cAAA,6LAAC,wKAAA,CAAA,UAA0B;YACzB,KAAK;YACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,gIACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW;AAErE,MAAM,iCAAmB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,QAGtC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,wKAAA,CAAA,UAA0B;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBAET,cAAA,6LAAC;YAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;;AAIjD,iBAAiB,WAAW,GAAG,wKAAA,CAAA,UAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 767, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/components/html-validator/validation-results.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { ReactNode } from 'react';\nimport React, { useRef, useState } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport type { ValidationResult, ValidationIssue, ClickTagInfo } from '@/types';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle, CardFooter } from '@/components/ui/card';\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from '@/components/ui/accordion';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { CheckCircle2, XCircle, AlertTriangle, FileText, Image as ImageIconLucide, Archive, ExternalLink, Info, LinkIcon, Download, Loader2, Eye } from 'lucide-react';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n// Image component from next/image is removed as previews are not part of v1.1.0\n\ninterface ValidationResultsProps {\n  results: ValidationResult[];\n  isLoading: boolean;\n}\n\nconst StatusIcon = ({ status }: { status: ValidationResult['status'] }) => {\n  switch (status) {\n    case 'success':\n      return <CheckCircle2 className=\"w-5 h-5 text-green-500\" />;\n    case 'error':\n      return <XCircle className=\"w-5 h-5 text-destructive\" />;\n    case 'warning':\n      return <AlertTriangle className=\"w-5 h-5 text-accent\" />;\n    default:\n      return <Info className=\"w-5 h-5 text-muted-foreground\" />;\n  }\n};\n\nconst IssueIcon = ({ type }: { type: ValidationIssue['type'] }) => {\n  switch (type) {\n    case 'error':\n      return <XCircle className=\"w-4 h-4 text-destructive mr-2 flex-shrink-0\" />;\n    case 'warning':\n      return <AlertTriangle className=\"w-4 h-4 text-accent mr-2 flex-shrink-0\" />;\n    default:\n      return <Info className=\"w-4 h-4 text-muted-foreground mr-2 flex-shrink-0\" />;\n  }\n};\n\nconst formatBytes = (bytes: number, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n};\n\n\nexport function ValidationResults({ results, isLoading }: ValidationResultsProps) {\n  const reportRef = useRef<HTMLDivElement>(null);\n  const [isGeneratingPdf, setIsGeneratingPdf] = useState(false);\n\n  const handleDownloadPdf = () => {\n    const input = reportRef.current;\n    if (input && results.length > 0) {\n      setIsGeneratingPdf(true);\n      // Ensure the element is fully visible and rendered for html2canvas\n      // For example, temporarily expand its container or scroll it into view if necessary.\n      // This example assumes 'input' (reportRef.current) is the complete element to capture.\n\n      html2canvas(input, {\n        scale: 2, // Higher scale can improve quality but increases canvas size\n        useCORS: true,\n        logging: false, // Set to true for html2canvas debugging\n        // Consider adding width/height if content overflows visually but not scroll-wise\n        // windowWidth: input.scrollWidth,\n        // windowHeight: input.scrollHeight,\n      })\n        .then((canvas) => {\n          const pdf = new jsPDF({\n            orientation: 'portrait',\n            unit: 'pt',\n            format: 'a4',\n          });\n\n          const pdfPageWidth = pdf.internal.pageSize.getWidth();\n          const pdfPageHeight = pdf.internal.pageSize.getHeight();\n\n          const canvasOriginalWidth = canvas.width;\n          const canvasOriginalHeight = canvas.height;\n\n          const leftMargin = 30; \n          const rightMargin = 30;\n          const topMargin = 40; \n          const bottomMargin = 40;\n\n          // Calculate the width the image will take on the PDF page\n          const imagePdfWidth = pdfPageWidth - leftMargin - rightMargin;\n          // Calculate the total height the image would span on the PDF if rendered continuously, maintaining aspect ratio\n          const imageTotalPdfHeight = (canvasOriginalHeight * imagePdfWidth) / canvasOriginalWidth;\n\n          let yPositionOnCanvas = 0; // Current Y position on the source canvas\n          let currentYOnPdf = topMargin; // Current Y position on the PDF page\n\n          // Add title to the first page\n          pdf.setFontSize(18);\n          pdf.text(\"Validation Report\", pdfPageWidth / 2, currentYOnPdf, { align: \"center\" });\n          currentYOnPdf += 30; // Space after title\n\n          while (yPositionOnCanvas < canvasOriginalHeight) {\n            // Calculate available vertical space on the current PDF page\n            let spaceLeftOnPage = pdfPageHeight - currentYOnPdf - bottomMargin;\n\n            if (spaceLeftOnPage <= 20) { // If very little space (e.g., less than 20pt), or if new page needed\n              pdf.addPage();\n              currentYOnPdf = topMargin; // Reset Y for the new page\n              spaceLeftOnPage = pdfPageHeight - topMargin - bottomMargin; // Full content height available\n            }\n\n            // Determine the height of the current chunk on the PDF\n            // This is the minimum of the space left on the page, or the remaining total PDF height of the image\n            const remainingImageOverallPdfHeight = imageTotalPdfHeight * ((canvasOriginalHeight - yPositionOnCanvas) / canvasOriginalHeight);\n            const chunkPdfHeight = Math.min(spaceLeftOnPage, remainingImageOverallPdfHeight);\n\n            if (chunkPdfHeight <= 0.1) { // Threshold to prevent tiny or zero-height chunks\n                 if (yPositionOnCanvas < canvasOriginalHeight - 0.1 && (canvasOriginalHeight - yPositionOnCanvas) > 1 ) { // If significant canvas is left\n                    pdf.addPage();\n                    currentYOnPdf = topMargin;\n                    continue; // Restart logic for new page\n                }\n                break; // No more content to draw or space is too small\n            }\n\n            // Calculate the corresponding height on the source canvas for this chunk\n            // (chunkPdfHeight / imageTotalPdfHeight) is the fraction of total image this chunk represents\n            const chunkCanvasHeight = (chunkPdfHeight / imageTotalPdfHeight) * canvasOriginalHeight;\n            \n            // Ensure we don't try to read past the end of the canvas or create a malformed chunk\n            const safeChunkCanvasHeight = Math.max(0.1, Math.min(chunkCanvasHeight, canvasOriginalHeight - yPositionOnCanvas));\n\n             if (safeChunkCanvasHeight <= 0.1) {\n                 if(yPositionOnCanvas < canvasOriginalHeight - 0.1 && (canvasOriginalHeight - yPositionOnCanvas) > 1 ) {\n                    pdf.addPage();\n                    currentYOnPdf = topMargin;\n                    continue;\n                }\n                break;\n            }\n            \n            // Create a temporary canvas for the current chunk\n            const tempChunkCanvas = document.createElement('canvas');\n            tempChunkCanvas.width = canvasOriginalWidth;\n            tempChunkCanvas.height = safeChunkCanvasHeight;\n            const tempCtx = tempChunkCanvas.getContext('2d');\n\n            if (!tempCtx) {\n              console.error(\"Failed to get 2D context for tempChunkCanvas\");\n              setIsGeneratingPdf(false);\n              return;\n            }\n\n            // Draw the segment from the main captured canvas to the temporary chunk canvas\n            tempCtx.drawImage(canvas,\n              0, yPositionOnCanvas,             // Source X, Y on main canvas\n              canvasOriginalWidth, safeChunkCanvasHeight, // Source W, H on main canvas\n              0, 0,                             // Destination X, Y on tempChunkCanvas\n              canvasOriginalWidth, safeChunkCanvasHeight // Destination W, H on tempChunkCanvas\n            );\n\n            const chunkDataUrl = tempChunkCanvas.toDataURL('image/png');\n\n            // Add the chunk image to the PDF\n            pdf.addImage(\n              chunkDataUrl,\n              'PNG',\n              leftMargin,       // X position on PDF page\n              currentYOnPdf,    // Y position on PDF page\n              imagePdfWidth,    // Width on PDF page (fixed to maintain aspect ratio with chunkPdfHeight)\n              chunkPdfHeight    // Height on PDF page (calculated to maintain aspect ratio of this chunk)\n            );\n\n            yPositionOnCanvas += safeChunkCanvasHeight; // Advance Y position on the source canvas\n            currentYOnPdf += chunkPdfHeight + 5; // Advance Y position on PDF, add small padding\n          }\n\n          pdf.save('validation-report.pdf');\n        })\n        .catch(err => {\n          console.error(\"Error generating PDF:\", err);\n          // Optionally, show a toast message to the user about the error\n        })\n        .finally(() => {\n          setIsGeneratingPdf(false);\n        });\n    }\n  };\n\n\n  if (isLoading && results.length === 0) {\n    return null;\n  }\n\n  if (!isLoading && results.length === 0) {\n    return (\n      <Card className=\"mt-8 shadow-md\">\n        <CardContent className=\"p-6 text-center\">\n          <FileText className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n          <p className=\"text-lg font-medium text-foreground\">No Validation Results Yet</p>\n          <p className=\"text-sm text-muted-foreground\">Upload files and click \"Validate\" to see the results here.</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"mt-8 space-y-6\" >\n      <div className=\"flex justify-between items-center\" id=\"report-header-to-exclude\">\n        <h2 className=\"text-2xl font-semibold text-foreground\">Validation Report</h2>\n        {results.length > 0 && !results.some(r => r.status === 'pending' || r.status === 'validating') && (\n          <Button\n            onClick={handleDownloadPdf}\n            disabled={isGeneratingPdf}\n            variant=\"outline\"\n            size=\"sm\"\n          >\n            {isGeneratingPdf ? (\n              <>\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                Generating PDF...\n              </>\n            ) : (\n              <>\n                <Download className=\"mr-2 h-4 w-4\" />\n                Download PDF\n              </>\n            )}\n          </Button>\n        )}\n      </div>\n      <div ref={reportRef}>\n        {results.map(result => (\n            <Card key={result.id} className=\"shadow-lg overflow-hidden mb-6\">\n              <CardHeader className={`flex flex-row items-center justify-between space-y-0 pb-2 ${\n                result.status === 'success' ? 'bg-green-500/10' :\n                result.status === 'error' ? 'bg-destructive/10' :\n                result.status === 'warning' ? 'bg-accent/10' :\n                'bg-muted/30'\n              }`}>\n                <div className=\"min-w-0\">\n                  <CardTitle className=\"text-lg font-semibold text-foreground truncate\" title={result.fileName}>\n                    {result.fileName}\n                  </CardTitle>\n                  <CardDescription className=\"text-xs\">\n                    Validation Status\n                  </CardDescription>\n                </div>\n                <Badge variant={\n                  result.status === 'success' ? 'default' :\n                  result.status === 'error' ? 'destructive' :\n                  result.status === 'warning' ? 'default' : // Using 'default' for warning which will use accent color\n                  'secondary'\n                }\n                className={`py-1 px-3 text-sm ${\n                    result.status === 'success' ? 'bg-green-600 text-white' :\n                    result.status === 'error' ? 'bg-destructive text-destructive-foreground' :\n                    result.status === 'warning' ? 'bg-accent text-accent-foreground' : // Accent for warning\n                    ''\n                }`}\n                >\n                  <StatusIcon status={result.status} />\n                  <span className=\"ml-2 capitalize\">{result.status}</span>\n                </Badge>\n              </CardHeader>\n              <CardContent className=\"p-6 space-y-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\n                  {result.adDimensions && (\n                    <div className=\"flex items-start p-3 bg-secondary/30 rounded-md\">\n                      <ImageIconLucide className=\"w-5 h-5 text-primary mr-3 mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"font-medium text-foreground\">Ad Dimensions</p>\n                        <p className=\"text-muted-foreground\">\n                          {result.adDimensions.actual ?\n                           `Detected: ${result.adDimensions.actual.width}x${result.adDimensions.actual.height}px ` : ''}\n                           {(result.adDimensions.width && result.adDimensions.height && (!result.adDimensions.actual || (result.adDimensions.actual.width !== result.adDimensions.width || result.adDimensions.actual.height !== result.adDimensions.height))) ?\n                           `(Expected: ${result.adDimensions.width}x${result.adDimensions.height}px)`: result.adDimensions.actual ? '' : 'Not specified'}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                  {typeof result.fileStructureOk === 'boolean' && (\n                    <div className=\"flex items-start p-3 bg-secondary/30 rounded-md\">\n                      {result.fileStructureOk ? <CheckCircle2 className=\"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0\" /> : <XCircle className=\"w-5 h-5 text-destructive mr-3 mt-0.5 flex-shrink-0\" />}\n                      <div>\n                        <p className=\"font-medium text-foreground\">File Structure</p>\n                        <p className=\"text-muted-foreground\">{result.fileStructureOk ? 'Valid' : 'Invalid'}</p>\n                      </div>\n                    </div>\n                  )}\n                  {result.fileSize && (\n                     <div className=\"flex items-start p-3 bg-secondary/30 rounded-md\">\n                      <Archive className=\"w-5 h-5 text-primary mr-3 mt-0.5 flex-shrink-0\" />\n                      <div>\n                        <p className=\"font-medium text-foreground\">File Size</p>\n                        <p className=\"text-muted-foreground\">\n                          {formatBytes(result.fileSize)}\n                          {result.maxFileSize && ` (Max: ${formatBytes(result.maxFileSize)})`}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n\n                {/* Banner Preview Section Removed for v1.1.0 */}\n\n                {result.detectedClickTags && result.detectedClickTags.length > 0 && (\n                  <div>\n                    <h4 className=\"text-md font-medium text-foreground mb-2 flex items-center\">\n                      <LinkIcon className=\"w-4 h-4 mr-2 text-primary\" /> Detected ClickTags:\n                    </h4>\n                    <ul className=\"list-disc list-inside pl-4 space-y-1 text-sm bg-secondary/30 p-3 rounded-md\">\n                      {result.detectedClickTags.map(ct => (\n                        <li key={ct.name} className=\"text-muted-foreground\">\n                          <span className=\"font-medium text-foreground\">{ct.name}:</span> {ct.url}\n                          {!ct.isHttps && <Badge variant=\"outline\" className=\"ml-2 border-accent text-accent\">Non-HTTPS</Badge>}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n\n\n                {result.issues.length > 0 && (\n                  <div>\n                    <h4 className=\"text-md font-medium text-foreground mb-2\">Issues Found ({result.issues.length}):</h4>\n                    <ScrollArea className=\"h-[200px] w-full rounded-md border\">\n                    <Accordion type=\"multiple\" className=\"w-full bg-card\">\n                      {result.issues.map(issue => (\n                        <AccordionItem value={issue.id} key={issue.id}>\n                          <AccordionTrigger className=\"px-4 py-3 text-sm hover:bg-muted/50 transition-colors\">\n                            <div className=\"flex items-center\">\n                              <IssueIcon type={issue.type} />\n                              <span className=\"font-medium capitalize mr-2\">{issue.type}:</span>\n                              <span className=\"text-foreground text-left\">{issue.message}</span>\n                            </div>\n                          </AccordionTrigger>\n                          <AccordionContent className=\"px-4 pb-3 pt-1 text-sm text-muted-foreground bg-secondary/20\">\n                            {issue.details || 'No additional details.'}\n                          </AccordionContent>\n                        </AccordionItem>\n                      ))}\n                    </Accordion>\n                    </ScrollArea>\n                  </div>\n                )}\n                {result.issues.length === 0 && result.status !== 'pending' && result.status !== 'validating' && (\n                  <div className=\"text-sm text-green-600 flex items-center p-3 bg-green-500/10 rounded-md\">\n                    <CheckCircle2 className=\"w-5 h-5 mr-2 flex-shrink-0\"/>\n                    No issues found. This creative meets the requirements.\n                  </div>\n                )}\n              </CardContent>\n              {result.status === 'pending' && (\n                 <CardFooter className=\"p-4 bg-muted/30\">\n                    <p className=\"text-sm text-muted-foreground\">Awaiting validation...</p>\n                 </CardFooter>\n              )}\n               {result.status === 'validating' && (\n                 <CardFooter className=\"p-4 bg-primary/10\">\n                    <div className=\"flex items-center text-sm text-primary\">\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Currently validating...\n                    </div>\n                 </CardFooter>\n              )}\n            </Card>\n          )\n        )}\n      </div>\n      {results.length > 0 && !results.some(r => r.status === 'pending' || r.status === 'validating') && (\n        <div className=\"mt-8 pt-6 border-t border-border text-muted-foreground text-xs\">\n          <h5 className=\"font-semibold text-sm mb-2 text-foreground\">ClickTag Identification Limitations:</h5>\n          <p className=\"mb-1\">Identification of clickTags via HTML parsing may fail for:</p>\n          <ul className=\"list-disc list-inside pl-4 space-y-0.5\">\n            <li>Minified or obfuscated JavaScript.</li>\n            <li>ClickTag URLs constructed dynamically (e.g., from multiple variables).</li>\n            <li>More complex JavaScript assignment patterns.</li>\n            <li>ClickTags defined in ways other than simple variable assignments.</li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\n  \n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/BACK-UP%20II/Desktop/PGD/PGD%20-%20Labs/html5-validator_Next_version/src/app/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { ChangeEvent } from 'react';\nimport React, { useState, useEffect } from 'react';\nimport JSZip from 'jszip';\nimport { HTMLHint, type LintResult, type RuleSet } from 'htmlhint';\n// CSS Tree import removed as per previous step to resolve module not found, stylelint via API is used instead.\nimport { AppHeader } from '@/components/layout/header';\nimport { FileUploader } from '@/components/html-validator/file-uploader';\nimport { ValidationResults } from '@/components/html-validator/validation-results';\nimport type { ValidationResult, ValidationIssue, ClickTagInfo } from '@/types';\nimport { useToast } from \"@/hooks/use-toast\";\n\nconst MAX_FILE_SIZE = 200 * 1024; // 200KB\nconst POSSIBLE_FALLBACK_DIMENSIONS = [\n  { width: 300, height: 250 }, { width: 728, height: 90 },\n  { width: 160, height: 600 }, { width: 300, height: 600 },\n  { width: 468, height: 60 },  { width: 120, height: 600 },\n  { width: 320, height: 50 },   { width: 300, height: 50 },\n  { width: 970, height: 250 }, { width: 336, height: 280 },\n];\n\ninterface MissingAssetInfo {\n  type: 'cssRef' | 'htmlImg' | 'htmlSource' | 'htmlLinkCss' | 'htmlScript';\n  path: string;\n  referencedFrom: string;\n  originalSrc: string;\n}\n\nconst createIssuePageClient = (type: 'error' | 'warning', message: string, details?: string, rule?: string): ValidationIssue => ({\n  id: `issue-page-client-${Math.random().toString(36).substr(2, 9)}`,\n  type,\n  message,\n  details,\n  rule: rule || (type === 'error' ? 'client-error' : 'client-warning'),\n});\n\nconst resolveAssetPathInZip = (assetPath: string, baseFilePath: string, zip: JSZip): string | null => {\n  if (assetPath.startsWith('data:') || assetPath.startsWith('http:') || assetPath.startsWith('https:') || assetPath.startsWith('//')) {\n    return assetPath; // Absolute or data URI, no resolution needed\n  }\n\n  let basePathSegments = baseFilePath.includes('/') ? baseFilePath.split('/').slice(0, -1) : [];\n  const assetPathSegments = assetPath.split('/');\n  let combinedSegments = [...basePathSegments];\n\n  for (const segment of assetPathSegments) {\n    if (segment === '..') {\n      if (combinedSegments.length > 0) {\n        combinedSegments.pop();\n      }\n    } else if (segment !== '.' && segment !== '') {\n      combinedSegments.push(segment);\n    }\n  }\n  const resolvedPath = combinedSegments.join('/');\n  if (zip.file(resolvedPath)) {\n    return resolvedPath;\n  }\n  // Fallback: If baseFilePath was deep, try resolving assetPath as if it's from ZIP root (if it doesn't contain '/')\n  // This helps with paths like \"image.png\" referenced from \"folder/index.html\" where \"image.png\" is at ZIP root.\n  if (!assetPath.includes('/') && zip.file(assetPath)) {\n    return assetPath;\n  }\n  // console.warn(`[resolveAssetPathInZip] Could not resolve asset path \"${assetPath}\" from base \"${baseFilePath}\". Tried \"${resolvedPath}\".`);\n  return null;\n};\n\n\nconst findHtmlFileInZip = async (zip: JSZip): Promise<{ path: string, content: string } | null> => {\n  const allFiles = Object.keys(zip.files);\n  // Prioritize index.html at the shallowest depth not in __MACOSX\n  const rootIndexHtmlCandidates = allFiles.filter(path => \n    path.toLowerCase().endsWith('index.html') && !path.startsWith(\"__MACOSX/\")\n  );\n\n  let shortestDepthIndexHtml: string | null = null;\n  let minDepth = Infinity;\n\n  for (const path of rootIndexHtmlCandidates) {\n      const depth = path.split('/').length - 1; // number of slashes\n      if (depth < minDepth) {\n          minDepth = depth;\n          shortestDepthIndexHtml = path;\n      }\n  }\n  \n  if (shortestDepthIndexHtml && zip.file(shortestDepthIndexHtml)) {\n      const content = await zip.file(shortestDepthIndexHtml)!.async(\"string\");\n      return { path: shortestDepthIndexHtml, content };\n  }\n\n  // Fallback: any .html file at the shallowest depth not in __MACOSX\n  const anyHtmlCandidates = allFiles.filter(path => \n    path.toLowerCase().endsWith('.html') && !path.startsWith(\"__MACOSX/\")\n  );\n\n  let shortestDepthAnyHtml: string | null = null;\n  minDepth = Infinity;\n\n  for (const path of anyHtmlCandidates) {\n    const depth = path.split('/').length - 1;\n    if (depth < minDepth) {\n        minDepth = depth;\n        shortestDepthAnyHtml = path;\n    }\n  }\n\n  if (shortestDepthAnyHtml && zip.file(shortestDepthAnyHtml)) {\n      const content = await zip.file(shortestDepthAnyHtml)!.async(\"string\");\n      return { path: shortestDepthAnyHtml, content };\n  }\n  \n  // console.warn(\"[findHtmlFileInZip] No suitable HTML file found.\");\n  return null;\n};\n\nasync function lintCssContentViaAPI(cssText: string, filePath: string): Promise<ValidationIssue[]> {\n  try {\n    const response = await fetch('/api/lint-css', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ code: cssText, codeFilename: filePath }),\n    });\n\n    if (!response.ok) {\n      let errorDetails = `Server responded with status ${response.status} (${response.statusText || 'No status text'}).`;\n      let responseBodyText = '';\n      try {\n        responseBodyText = await response.text(); // Attempt to get raw body first\n        const errorData = JSON.parse(responseBodyText); // Then try to parse it as JSON\n\n        // Check if the parsed data matches our expected error structure from the API\n        if (errorData.issues && errorData.issues.length > 0 && errorData.issues[0].message) {\n           errorDetails = errorData.issues[0].message;\n           if(errorData.issues[0].details) errorDetails += ` Details: ${errorData.issues[0].details}`;\n        } else if (errorData.error) { // For other simple JSON error responses\n          errorDetails = errorData.error;\n        } else if (responseBodyText) { // If not our structure, but body has text, use it\n           errorDetails = responseBodyText;\n        }\n      } catch (e) {\n        // JSON parsing failed or .text() failed. Use responseBodyText if available, otherwise the status line.\n        if (responseBodyText) {\n            errorDetails = responseBodyText;\n        }\n      }\n      \n      console.error(`CSS linting API error for ${filePath}. Status: ${response.status}. Details/Body: ${errorDetails}`);\n      return [\n        createIssuePageClient(\n          'error',\n          `CSS linting service request failed for ${filePath}.`,\n          errorDetails.substring(0, 500) // Limit details length to avoid overly long messages\n        ),\n      ];\n    }\n\n    // If response.ok, try to parse JSON as success\n    const data = await response.json();\n    if (data.issues && Array.isArray(data.issues)) {\n      // Map API issues to ValidationIssue, ensuring all fields are present\n      return data.issues.map((issue: any) => createIssuePageClient(\n        issue.type as ('error' | 'warning'),\n        issue.message || 'Unknown linting issue',\n        issue.details || `Line: ${issue.line}, Col: ${issue.column}, Rule: ${issue.rule || 'unknown'}`,\n        issue.rule || 'unknown'\n      ));\n    }\n    return [createIssuePageClient('warning', `CSS linting returned no issues for ${filePath}, or an unexpected response format.`)];\n  } catch (error: any) { // Network errors or other client-side fetch issues\n    console.error(`Client-side error calling CSS linting API for ${filePath}:`, error);\n    return [createIssuePageClient('error', `Failed to call CSS linting service for ${filePath}.`, error.message)];\n  }\n}\n\n\nconst processCssContentAndCollectReferences = async (\n  cssContent: string,\n  cssFilePath: string,\n  zip: JSZip,\n  missingAssetsCollector: MissingAssetInfo[],\n  referencedAssetPathsCollector: Set<string>,\n  cssIssuesCollector: ValidationIssue[]\n): Promise<void> => {\n  // First, lint the CSS content\n  const lintingIssues = await lintCssContentViaAPI(cssContent, cssFilePath);\n  cssIssuesCollector.push(...lintingIssues);\n\n  // Then, process for URL references (only if linting didn't return critical parse errors,\n  // though url() extraction might still work on somewhat malformed CSS)\n  const urlPattern = /url\\s*\\(\\s*(['\"]?)(.*?)\\1\\s*\\)/gi;\n  let match;\n\n  while ((match = urlPattern.exec(cssContent)) !== null) {\n    const originalUrl = match[0]; // e.g., url('../img/image.png')\n    const assetUrlFromCss = match[2]; // e.g., ../img/image.png\n\n    if (assetUrlFromCss.startsWith('data:') || assetUrlFromCss.startsWith('http:') || assetUrlFromCss.startsWith('https:') || assetUrlFromCss.startsWith('//')) {\n      continue; // Skip data URIs and absolute URLs\n    }\n\n    const resolvedAssetPath = resolveAssetPathInZip(assetUrlFromCss, cssFilePath, zip);\n\n    if (resolvedAssetPath && zip.file(resolvedAssetPath)) {\n      referencedAssetPathsCollector.add(resolvedAssetPath);\n    } else {\n      missingAssetsCollector.push({\n        type: 'cssRef',\n        path: assetUrlFromCss, // The path as written in CSS\n        referencedFrom: cssFilePath,\n        originalSrc: originalUrl // The full url(...) pattern\n      });\n    }\n  }\n};\n\nconst analyzeCreativeAssets = async (file: File): Promise<{\n  missingAssets: MissingAssetInfo[],\n  unreferencedFiles: string[],\n  foundHtmlPath?: string,\n  htmlContent?: string,\n  cssLintIssues: ValidationIssue[],\n}> => {\n  const missingAssets: MissingAssetInfo[] = [];\n  const referencedAssetPaths = new Set<string>();\n  const cssLintIssues: ValidationIssue[] = [];\n  let foundHtmlPath: string | undefined;\n  let htmlContentForAnalysis: string | undefined;\n  let zipBaseDir = ''; // To help resolve paths like 'css/style.css' if HTML is in root\n\n  try {\n    const zip = await JSZip.loadAsync(file);\n    const allZipFiles = Object.keys(zip.files).filter(path => !zip.files[path].dir && !path.startsWith(\"__MACOSX/\") && !path.endsWith('.DS_Store'));\n\n    const htmlFile = await findHtmlFileInZip(zip);\n\n    if (!htmlFile) {\n      // console.warn(`[analyzeCreativeAssets] No HTML file found in ${file.name}. All files will be marked as unreferenced.`);\n      return { missingAssets, unreferencedFiles: allZipFiles, foundHtmlPath, htmlContent: htmlContentForAnalysis, cssLintIssues };\n    }\n\n    foundHtmlPath = htmlFile.path;\n    if (foundHtmlPath.includes('/')) {\n        zipBaseDir = foundHtmlPath.substring(0, foundHtmlPath.lastIndexOf('/') + 1);\n    }\n    referencedAssetPaths.add(foundHtmlPath); // The HTML file itself is referenced\n    htmlContentForAnalysis = htmlFile.content;\n    const doc = new DOMParser().parseFromString(htmlContentForAnalysis, 'text/html');\n\n    // Process linked stylesheets\n    const linkedStylesheets = Array.from(doc.querySelectorAll('link[rel=\"stylesheet\"]'));\n    const processedCssPaths = new Set<string>(); // To avoid processing same CSS file multiple times\n\n    for (const linkTag of linkedStylesheets) {\n      const href = linkTag.getAttribute('href');\n      if (href && !href.startsWith('http:') && !href.startsWith('https:') && !href.startsWith('data:')) {\n        const cssFilePath = resolveAssetPathInZip(href, foundHtmlPath, zip);\n        if (cssFilePath && zip.file(cssFilePath) && !processedCssPaths.has(cssFilePath)) {\n          referencedAssetPaths.add(cssFilePath);\n          processedCssPaths.add(cssFilePath);\n          const cssContent = await zip.file(cssFilePath)!.async('string');\n          await processCssContentAndCollectReferences(cssContent, cssFilePath, zip, missingAssets, referencedAssetPaths, cssLintIssues);\n        } else if (!cssFilePath || !zip.file(cssFilePath)) {\n          missingAssets.push({ type: 'htmlLinkCss', path: href, referencedFrom: foundHtmlPath, originalSrc: href });\n        }\n      }\n    }\n    \n    // Proactively check for common CSS file paths if not already processed\n    const commonCssSuffixes = ['style.css', 'css/style.css', 'main.css', 'css/main.css'];\n    for (const suffix of commonCssSuffixes) {\n        const potentialCssPath = zipBaseDir + suffix; // Relative to HTML's dir or ZIP root\n        if (zip.file(potentialCssPath) && !processedCssPaths.has(potentialCssPath)) {\n            // console.log(`[analyzeCreativeAssets] Proactively checking CSS: ${potentialCssPath}`);\n            referencedAssetPaths.add(potentialCssPath);\n            processedCssPaths.add(potentialCssPath);\n            const cssContent = await zip.file(potentialCssPath)!.async('string');\n            await processCssContentAndCollectReferences(cssContent, potentialCssPath, zip, missingAssets, referencedAssetPaths, cssLintIssues);\n        } else {\n            // Check from absolute ZIP root if not found relative to HTML dir\n            const potentialAbsoluteCssPath = suffix;\n             if (zipBaseDir !== '' && zip.file(potentialAbsoluteCssPath) && !processedCssPaths.has(potentialAbsoluteCssPath)) {\n                // console.log(`[analyzeCreativeAssets] Proactively checking absolute CSS: ${potentialAbsoluteCssPath}`);\n                referencedAssetPaths.add(potentialAbsoluteCssPath);\n                processedCssPaths.add(potentialAbsoluteCssPath);\n                const cssContent = await zip.file(potentialAbsoluteCssPath)!.async('string');\n                await processCssContentAndCollectReferences(cssContent, potentialAbsoluteCssPath, zip, missingAssets, referencedAssetPaths, cssLintIssues);\n            }\n        }\n    }\n\n\n    // Process media elements (img, source)\n    const mediaElements = Array.from(doc.querySelectorAll('img[src], source[src]'));\n    for (const el of mediaElements) {\n        const srcAttr = el.getAttribute('src');\n        if (srcAttr && !srcAttr.startsWith('data:') && !srcAttr.startsWith('http:') && !srcAttr.startsWith('https:') && !srcAttr.startsWith('//')) {\n            const assetPath = resolveAssetPathInZip(srcAttr, foundHtmlPath, zip);\n            if (assetPath && zip.file(assetPath)) {\n                referencedAssetPaths.add(assetPath);\n            } else {\n                missingAssets.push({\n                    type: el.tagName.toLowerCase() === 'img' ? 'htmlImg' : 'htmlSource',\n                    path: srcAttr,\n                    referencedFrom: foundHtmlPath,\n                    originalSrc: srcAttr\n                });\n            }\n        }\n    }\n\n    // Process script elements\n    const scriptElements = Array.from(doc.querySelectorAll('script[src]'));\n    for (const el of scriptElements) {\n        const srcAttr = el.getAttribute('src');\n        // Allow absolute URLs for CDNs like GSAP\n        if (srcAttr && !srcAttr.startsWith('http:') && !srcAttr.startsWith('https:')) {\n            const assetPath = resolveAssetPathInZip(srcAttr, foundHtmlPath, zip);\n            if (assetPath && zip.file(assetPath)) {\n                referencedAssetPaths.add(assetPath);\n            } else {\n                 missingAssets.push({\n                    type: 'htmlScript',\n                    path: srcAttr,\n                    referencedFrom: foundHtmlPath,\n                    originalSrc: srcAttr\n                });\n            }\n        } else if (srcAttr && (srcAttr.startsWith('http:') || srcAttr.startsWith('https:'))) {\n            // Assume external scripts are \"referenced\" for completeness, though we don't check their existence\n            // Or, decide not to add them to referencedAssetPaths if we only care about local assets\n        }\n    }\n    \n    const unreferencedFiles: string[] = [];\n    allZipFiles.forEach(filePathInZip => {\n        if (!referencedAssetPaths.has(filePathInZip)) {\n            unreferencedFiles.push(filePathInZip);\n        }\n    });\n\n    return { missingAssets, unreferencedFiles, foundHtmlPath, htmlContent: htmlContentForAnalysis, cssLintIssues };\n\n  } catch (error: any) {\n    // console.error(`Error analyzing assets for ${file.name}:`, error);\n    // In case of critical error (e.g. corrupt ZIP), mark all files as unreferenced or add a global error\n    cssLintIssues.push(createIssuePageClient('error', `Critical error analyzing ZIP file ${file.name}.`, error.message, 'zip-analysis-error'));\n    return { missingAssets, unreferencedFiles: [], foundHtmlPath, htmlContent: htmlContentForAnalysis, cssLintIssues };\n  }\n};\n\nconst findClickTagsInHtml = (htmlContent: string | null): ClickTagInfo[] => {\n  if (!htmlContent) return [];\n\n  const clickTags: ClickTagInfo[] = [];\n  const clickTagRegex = /(?:^|[\\s;,\\{\\(])\\s*(?:(?:var|let|const)\\s+)?(?:window\\.)?([a-zA-Z0-9_]*clickTag[a-zA-Z0-9_]*)\\s*=\\s*[\"'](http[^\"']+)[\"']/gmi;\n  \n  let scriptContent = \"\";\n  const scriptTagRegex = /<script[^>]*>([\\s\\S]*?)<\\/script>/gi;\n  let scriptMatch;\n  while((scriptMatch = scriptTagRegex.exec(htmlContent)) !== null) {\n    scriptContent += scriptMatch[1] + \"\\n\";\n  }\n\n  let match;\n  while ((match = clickTagRegex.exec(scriptContent)) !== null) {\n    const name = match[1];\n    const url = match[2];\n    clickTags.push({\n      name,\n      url,\n      isHttps: url.startsWith('https://'),\n    });\n  }\n  return clickTags;\n};\n\nconst lintHtmlContent = (htmlString: string): ValidationIssue[] => {\n  if (!htmlString) return [];\n\n  const ruleset: RuleSet = {\n    'tag-pair': true,\n    'attr-lowercase': true,\n    'attr-value-double-quotes': true,\n    'doctype-first': false, \n    'spec-char-escape': true,\n    'id-unique': true,\n    'src-not-empty': true,\n    'tag-self-close': false, \n    'img-alt-require': true,\n    'head-script-disabled': false, \n    'style-disabled': false, \n  };\n\n  const messages = HTMLHint.verify(htmlString, ruleset);\n  return messages.map((msg: LintResult) => {\n    let issueType: 'error' | 'warning' = 'warning'; \n    if (msg.type === 'error') { \n      issueType = 'error';\n    }\n    return createIssuePageClient(\n      issueType,\n      msg.message,\n      `Line: ${msg.line}, Col: ${msg.col}, Rule: ${msg.rule.id}`,\n      msg.rule.id\n    );\n  });\n};\n\nconst buildValidationResult = async (\n  file: File,\n  analysis: {\n    missingAssets: MissingAssetInfo[],\n    unreferencedFiles: string[],\n    foundHtmlPath?: string,\n    htmlContent?: string,\n    cssLintIssues: ValidationIssue[],\n  }\n): Promise<Omit<ValidationResult, 'id' | 'fileName' | 'fileSize'>> => {\n  const issues: ValidationIssue[] = [];\n  let status: ValidationResult['status'] = 'success';\n\n  if (file.size > MAX_FILE_SIZE) {\n    issues.push(createIssuePageClient('error', `File size exceeds limit (${(MAX_FILE_SIZE / 1024).toFixed(0)}KB).`));\n  }\n\n  const detectedClickTags = findClickTagsInHtml(analysis.htmlContent || null);\n\n  if (detectedClickTags.length === 0 && analysis.htmlContent) { \n     issues.push(createIssuePageClient('error', 'No clickTags found or clickTag implementation is missing/invalid.'));\n  } else {\n    for (const tag of detectedClickTags) {\n      if (!tag.isHttps) {\n        issues.push(createIssuePageClient('warning', `ClickTag '${tag.name}' uses non-HTTPS URL.`, `URL: ${tag.url}`));\n      }\n    }\n  }\n\n  for (const missing of analysis.missingAssets) {\n    let message = \"\";\n    if (missing.type === 'cssRef') {\n      message = `Asset '${missing.originalSrc}' referenced in CSS file '${missing.referencedFrom}' not found in ZIP.`;\n    } else if (missing.type === 'htmlImg') {\n      message = `Image '${missing.originalSrc}' referenced in HTML file '${missing.referencedFrom}' not found in ZIP.`;\n    } else if (missing.type === 'htmlSource') {\n      message = `Media source '${missing.originalSrc}' referenced in HTML file '${missing.referencedFrom}' not found in ZIP.`;\n    } else if (missing.type === 'htmlLinkCss') {\n      message = `CSS file '${missing.originalSrc}' linked in HTML file '${missing.referencedFrom}' not found in ZIP.`;\n    } else if (missing.type === 'htmlScript') {\n      message = `JavaScript file '${missing.originalSrc}' linked in HTML file '${missing.referencedFrom}' not found in ZIP.`;\n    }\n    issues.push(createIssuePageClient('warning', message, `Original path: ${missing.path}`));\n  }\n\n  for (const unreferencedFilePath of analysis.unreferencedFiles) {\n    issues.push(createIssuePageClient('warning', `Unreferenced file in ZIP: '${unreferencedFilePath}'.`, `Consider removing if not used to reduce file size.`));\n  }\n  \n  issues.push(...analysis.cssLintIssues);\n\n\n  if (analysis.htmlContent) {\n    const lintingIssues = lintHtmlContent(analysis.htmlContent);\n    issues.push(...lintingIssues);\n  }\n\n\n  let actualMetaWidth: number | undefined = undefined;\n  let actualMetaHeight: number | undefined = undefined;\n  let adSizeMetaTagContent: string | null = null;\n\n  let filenameIntrinsicWidth: number | undefined;\n  let filenameIntrinsicHeight: number | undefined;\n  const filenameDimMatch = file.name.match(/_(\\d+)x(\\d+)(?:[^/]*)\\.zip$/i);\n\n  if (filenameDimMatch && filenameDimMatch[1] && filenameDimMatch[2]) {\n    filenameIntrinsicWidth = parseInt(filenameDimMatch[1], 10);\n    filenameIntrinsicHeight = parseInt(filenameDimMatch[2], 10);\n  }\n\n  if (analysis.htmlContent) {\n    const metaTagRegex = /<meta\\s+name=[\"']ad\\.size[\"']\\s+content=[\"']([^\"']+)[\"'][^>]*>/i;\n    const metaTagMatch = analysis.htmlContent.match(metaTagRegex);\n    if (metaTagMatch && metaTagMatch[1]) {\n      adSizeMetaTagContent = metaTagMatch[1];\n      const metaDimMatch = adSizeMetaTagContent.match(/width=(\\d+)[,;]?\\s*height=(\\d+)/i);\n      if (metaDimMatch && metaDimMatch[1] && metaDimMatch[2]) {\n        const wVal = parseInt(metaDimMatch[1], 10);\n        const hVal = parseInt(metaDimMatch[2], 10);\n        if (!isNaN(wVal) && !isNaN(hVal)) {\n          actualMetaWidth = wVal;\n          actualMetaHeight = hVal;\n        } else {\n           issues.push(createIssuePageClient('error', 'Invalid numeric values in ad.size meta tag.', `Parsed non-numeric values from: \"${adSizeMetaTagContent}\"`));\n        }\n      } else {\n         issues.push(createIssuePageClient('error', 'Malformed ad.size meta tag content.', `Content: \"${adSizeMetaTagContent}\". Expected \"width=XXX,height=YYY\".`));\n      }\n    } else {\n      if (filenameIntrinsicWidth !== undefined && filenameIntrinsicHeight !== undefined) {\n        actualMetaWidth = filenameIntrinsicWidth;\n        actualMetaHeight = filenameIntrinsicHeight;\n        issues.push(createIssuePageClient('warning', 'Required ad.size meta tag not found in HTML. Dimensions inferred from filename.', 'Ensure <meta name=\"ad.size\" content=\"width=XXX,height=YYY\"> is present.'));\n      } else {\n        issues.push(createIssuePageClient('error', 'Required ad.size meta tag not found in HTML and no dimensions in filename.', 'Ensure <meta name=\"ad.size\" content=\"width=XXX,height=YYY\"> is present or include dimensions in filename like _WIDTHxHEIGHT.zip.'));\n      }\n    }\n  } else {\n    if (filenameIntrinsicWidth !== undefined && filenameIntrinsicHeight !== undefined) {\n      actualMetaWidth = filenameIntrinsicWidth;\n      actualMetaHeight = filenameIntrinsicHeight;\n      issues.push(createIssuePageClient('warning', 'Could not extract HTML. Dimensions inferred from filename.', 'Creative might be structured unusually or ZIP is empty/corrupt. Ad.size meta tag could not be verified.'));\n    } else {\n      issues.push(createIssuePageClient('error', 'Could not extract HTML and no dimensions in filename.', 'Unable to determine dimensions. Ad.size meta tag could not be verified.'));\n    }\n  }\n  \n  let expectedDim: { width: number; height: number };\n  if (actualMetaWidth !== undefined && actualMetaHeight !== undefined) {\n    expectedDim = { width: actualMetaWidth, height: actualMetaHeight };\n  } else if (filenameIntrinsicWidth !== undefined && filenameIntrinsicHeight !== undefined) {\n      expectedDim = { width: filenameIntrinsicWidth, height: filenameIntrinsicHeight };\n      if (!issues.some(iss => iss.message.includes(\"ad.size meta tag\") || iss.message.includes(\"Could not extract HTML\"))) {\n        issues.push(createIssuePageClient('warning', 'Ad dimensions inferred from filename due to missing/invalid ad.size meta tag or HTML extraction issues.'));\n      }\n  } else if (POSSIBLE_FALLBACK_DIMENSIONS.length > 0 && analysis.htmlContent) {\n      const fallbackDim = POSSIBLE_FALLBACK_DIMENSIONS[Math.floor(Math.random() * POSSIBLE_FALLBACK_DIMENSIONS.length)];\n      expectedDim = {width: fallbackDim.width, height: fallbackDim.height};\n      issues.push(createIssuePageClient('error', `Could not determine ad dimensions from meta tag or filename. Defaulted to a fallback guess: ${fallbackDim.width}x${fallbackDim.height}. Verify ad.size meta tag and filename conventions.`));\n  } else {\n      // Fallback if no dimensions could be determined from any source\n      expectedDim = { width: 300, height: 250 }; // A common default\n      if (analysis.htmlContent || (filenameIntrinsicWidth === undefined && filenameIntrinsicHeight === undefined)) {\n         // Only add this error if we actually had HTML to parse or no filename dimensions\n         issues.push(createIssuePageClient('error', 'Could not determine ad dimensions. Defaulted to 300x250. Ensure ad.size meta tag or filename convention is used.'));\n      }\n  }\n\n  const adDimensions: ValidationResult['adDimensions'] = {\n    width: expectedDim.width,\n    height: expectedDim.height,\n    actual: (actualMetaWidth !== undefined && actualMetaHeight !== undefined) \n            ? { width: actualMetaWidth, height: actualMetaHeight } \n            : undefined,\n  };\n\n  const fileStructureOk = !!analysis.foundHtmlPath;\n  if (!fileStructureOk && !issues.some(iss => iss.message.includes(\"Could not extract HTML\"))) {\n    issues.push(createIssuePageClient('error', 'Invalid file structure. Primary HTML file could not be extracted.'));\n  }\n\n  const hasErrors = issues.some(issue => issue.type === 'error');\n  const hasWarnings = issues.some(issue => issue.type === 'warning');\n\n  if (hasErrors) {\n    status = 'error';\n  } else if (hasWarnings) {\n    status = 'warning';\n  } else {\n    status = 'success';\n  }\n\n  return {\n    status,\n    issues,\n    adDimensions,\n    fileStructureOk,\n    detectedClickTags: detectedClickTags.length > 0 ? detectedClickTags : undefined,\n    maxFileSize: MAX_FILE_SIZE,\n  };\n};\n\n\nexport default function HomePage() {\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\n  const [validationResults, setValidationResults] = useState<ValidationResult[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { toast } = useToast();\n\n  const handleValidateFiles = async () => {\n    if (selectedFiles.length === 0) {\n      toast({\n        title: \"No files selected\",\n        description: \"Please select one or more ZIP files to validate.\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsLoading(true);\n    const initialPendingResults: ValidationResult[] = selectedFiles.map(file => {\n        let initialWidth = 0;\n        let initialHeight = 0;\n        const filenameDimMatch = file.name.match(/_(\\d+)x(\\d+)(?:[^/]*)\\.zip$/i);\n        if (filenameDimMatch && filenameDimMatch[1] && filenameDimMatch[2]) {\n            initialWidth = parseInt(filenameDimMatch[1], 10);\n            initialHeight = parseInt(filenameDimMatch[2], 10);\n        } else if (POSSIBLE_FALLBACK_DIMENSIONS.length > 0) { // Fallback to a random common dimension if not in filename\n            const tempDim = POSSIBLE_FALLBACK_DIMENSIONS[Math.floor(Math.random() * POSSIBLE_FALLBACK_DIMENSIONS.length)];\n            initialWidth = tempDim.width;\n            initialHeight = tempDim.height;\n        }\n        return {\n            id: `${file.name}-${Date.now()}-pending-${Math.random().toString(36).substring(2,9)}`,\n            fileName: file.name,\n            status: 'validating',\n            issues: [],\n            fileSize: file.size,\n            maxFileSize: MAX_FILE_SIZE,\n            fileStructureOk: true, // Assume true initially\n            adDimensions: { width: initialWidth, height: initialHeight, actual: undefined },\n            detectedClickTags: undefined,\n        };\n    });\n    setValidationResults(initialPendingResults);\n\n    const resultsPromises = selectedFiles.map(async (file, index) => {\n      const currentPendingResultId = initialPendingResults[index].id;\n      try {\n        const assetAnalysis = await analyzeCreativeAssets(file);\n        const validationResultPart = await buildValidationResult(file, assetAnalysis);\n        \n        return {\n          id: currentPendingResultId, \n          fileName: file.name,\n          fileSize: file.size,\n          ...validationResultPart,\n        };\n      } catch (error) {\n        // console.error(`Error during validation for ${file.name}:`, error);\n        const errorResult: ValidationResult = {\n            id: currentPendingResultId, \n            fileName: file.name,\n            status: 'error',\n            issues: [createIssuePageClient('error', 'An unexpected error occurred during validation process.', (error as Error).message)],\n            fileSize: file.size,\n            maxFileSize: MAX_FILE_SIZE,\n            fileStructureOk: false, // Assume false on critical error\n            adDimensions: initialPendingResults[index].adDimensions, // Use initial pending dimensions\n        };\n        return errorResult;\n      }\n    });\n\n    const allResults = await Promise.all(resultsPromises);\n    setValidationResults(allResults);\n\n    setIsLoading(false);\n    toast({\n      title: \"Validation Complete\",\n      description: `Processed ${selectedFiles.length} file(s). Check the report below.`,\n    });\n  };\n\n  useEffect(() => {\n    // Clear results if selected files are cleared\n    if (selectedFiles.length === 0) {\n        setValidationResults([]);\n    }\n  }, [selectedFiles]);\n\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <AppHeader />\n      <main className=\"flex-grow container mx-auto px-4 py-8\">\n        <div className=\"max-w-3xl mx-auto space-y-8\">\n          <FileUploader\n            selectedFiles={selectedFiles}\n            setSelectedFiles={setSelectedFiles}\n            onValidate={handleValidateFiles}\n            isLoading={isLoading}\n          />\n          <ValidationResults results={validationResults} isLoading={isLoading} />\n        </div>\n      </main>\n      <footer className=\"py-6 text-center text-sm text-muted-foreground border-t bg-card\">\n        © {new Date().getFullYear()} HTML Validator. All rights reserved.\n      </footer>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","debugId":null}}]
}